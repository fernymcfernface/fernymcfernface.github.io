The consensus among computer scientists is that $\mathcal{P} \neq \mathcal{NP}$ (\cite{AroraSanjeev2009Cc:a}). This seems to imply that there exist a set of languages that are fundamentally harder to compute than others. These languages are known as \textbf{NP-complete languages} and have a property that if any of them are in $\mathcal{P}$, then so is every other language in $\mathcal{NP}$.

\subsection{Polynomial transformations}

We will construct the set of NP-complete languages through the use of \textbf{polynomial transformations}.

\begin{definition}
    A \textbf{polynomial transformation} from a language $L_1 \subseteq \Sigma_1^*$ to a language $L_2 \subseteq \Sigma_2^*$ is a function $f:\Sigma_1^* \to \Sigma_2^*$ that satisfies these conditions:
    \begin{enumerate}
        \item There is a polynomial time DTM program that computes $f$;
        \item For all \(x \in \Sigma_1^*\), we have \(x \in L_1\) if and only if \(f(x) \in L_2\).
    \end{enumerate}

    We write \(L_1 \propto L_2\) to indicate that there exists a polynomial transformation from $L_1$ to $L_2$.
\end{definition}

\begin{remark}
    We say that for two decision problems $\Pi_1, \Pi_2$, $\Pi_1 \propto \Pi_2$ if there exists a polynomial transformation from $\Pi_1$ to $\Pi_2$.
\end{remark}

\begin{definition}
    Two languages $L_1$ and $L_2$ are \textbf{polynomally equivalent} if both $L_1 \propto L_2$ and $L_2 \propto L_1$.
\end{definition}

Let us demonstrate this with an example. Here are two decision problems based on graphs (one unweighted, one weighted):

\decisionproblem{Hamiltonian Circuit (HC)}{A graph $G=(V,E)$.}{Does there exist a Hamiltonian Circuit in $G$? (A Hamiltonian Circuit is a path in $G$ that visits every node exactly once before returning to the original node - see Figure \ref{fig:HamiltonianGraph} for an example)}

\input{Sections/TikZ documents/HamiltonianGraph}

\decisionproblem{Traveling Salesman (TS)}{A tuple $(V,E,m)$ where $(V,E)$ describes a weighted graph $G$.}{Does there exist a cycle of $G$ shorter than length $m$?}

\begin{example}
    We will show that \textsc{HC} $\propto$ \textsc{TS}.

    Let $G=(V,E)$ be the graph for consideration in \textsc{HC}.
    
    We define $f$ to map $G$ to the weighted graph $f(G)=(V,E^{\prime})$ where the weightings of $E^{\prime}$ are given by the formula
    \begin{equation*}
        \text{weight on edge $(v_i,v_j)$ } =
        \begin{cases}
            1 & \text{if } (v_i,v_j) \in E\\
            2 & \text{if } (v_i,v_j) \notin E
        \end{cases}
    \end{equation*}

    We set the requirement of cycle length to be at maximum $|V|$.
    
    Since a complete graph with $n$ vertices has \(\frac{n(n-1)}{2}\) edges, it takes this number of comparisons to determine the weight of each edge in $G^{\prime}$. This takes a polynomial amount of time, and so the first requirement is satisfied.

    We now need to satisfy the second requirement. Consider the path for a tour in $G$  given by \((v_1,v_2,\dots,v_m,v_1)\). This is also a tour in $f(G)$; moreover, since each edge in the tour is in $E$, the weights of each edge in the tour must be equal to $1$. Therefore, the total length of the tour in $f(G)$ is given by $m = |V|$ and thus \(f(G) \in  \text{\textsc{TS}}\).

    Now suppose that there is a tour in \(f(G)\) given by \((v_1,v_2,\dots,v_m,v_1)\) with total length $m=|V|$. By the construction of $f$, We know that each edge given by the tour must also be an edge in $G$. Hence this is also a valid tour in $G$, and so $G \in \text{\textsc{HC}}$.
    
\end{example}

\newpage
\subsection{Constructing the class of NP-complete languages}

We now turn to some important lemmas regarding polynomial transformations, which we use to define the class of NP-complete languages.

\begin{lemma}\label{lem:Ppropto}
    If \(L_1 \propto L_2\), then $L_2 \in \mathcal{P}$ implies $L_1 \in \mathcal{P}$ (and equivalently, $L_1 \notin \mathcal{P}$ implies $L_2 \notin \mathcal{P}$).
\end{lemma}

\begin{proof}
    Let $\Sigma_1^*$ and $\Sigma_2^*$ be the alphabets of $L_1$ and $L_2$ respectively. Let $f:\Sigma_1^* \to \Sigma_2^*$ be a polynomial transformation. Finally, let $M_f$ denote a DTM program that recognises $f$ and $M_2$ be a polynomial time program that recognises $L_2$.

    We need to construct a DTM program that recognises $L_1$, which can be given by the composition $M_2 \circ M_f$. Since $x \in L_1 \iff f(x) \in L_2$, this program recognises $L_1$.

    Now, $M_f$ and $M_2$ are both polynomial DTMs (by the definition of a polynomial transformation and $L_2$ being contained in $\mathcal{P}$ respectively), so their composition must also be a polynomial DTM. We have therefore found a polynomial DTM that recognises $L_1$, so $L_1 \in \mathcal{P}$.
\end{proof}

\begin{lemma}\label{lem:transitive}
    (\cite{GareyMichaelR1979Cai:}) If $L_1 \propto L_2$ and $L_2 \propto L_3$, then $L_1 \propto L_3$.
\end{lemma}

\begin{definition}
    A language $L$ is \textbf{NP-complete} if $L \in \mathcal{NP}$ and for all other languages $L^{\prime} \in \mathcal{NP}$, $L^{\prime} \propto L$.
\end{definition}

\begin{remark}
    We say that a decision problem $\Pi$ is \textbf{NP-complete} if $\Pi \in \mathcal{NP}$ and for all other decision problems $\Pi^{\prime}$, $\Pi^{\prime} \propto \Pi$.
\end{remark}

We now state the most crucial theorem of this chapter.

\begin{theorem}
    If $L$ is NP-complete and $L \in \mathcal{P}$, then $\mathcal{P} = \mathcal{NP}$.
\end{theorem}

\begin{proof}
    Since $\mathcal{P} \subseteq \mathcal{NP}$, it is sufficient to show that if the conditions of the theorem are satisfied then $\mathcal{NP} \subseteq \mathcal{P}$. Consider some arbitrary language $L^{\prime} \in \mathcal{NP}$. Since $L$ is NP-complete, $L^{\prime} \propto L$. By Lemma \ref{lem:Ppropto}, since $L \in \mathcal{P}$, $L^{\prime} \in \mathcal{P}$ and $\mathcal{NP} \subseteq \mathcal{P}$ as required.
\end{proof}